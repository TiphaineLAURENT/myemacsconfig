#!/usr/bin/python3

from sys import argv

def parse_all(makefilename):
    dependencies = {}
    with open(makefilename, "r") as f:
        for line in f.readlines():
            words = line.split()
            if words[0][len(words[0])] == ":":
                for i in range(1, len(words) + 1):
                    dependencies[words[0][:-1]].append(words[i])
        print(dependencies)

def check_depedencies(makefilename, filename):
    pass

if __name__ == "__main__":
    try:
        if len(argv) > 3 or len(argv) < 2:
            exit(84)
        if len(argv) == 2:
            parse_all(argv[1])
        elif len(argv) == 3:
            check_depedencies(argv[1], argv[2])

    except Exception as e:
        print(str(e))
        exit(84)
